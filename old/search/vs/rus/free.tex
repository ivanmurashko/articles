\chapter{Примеры свободно распространяемых поисковых движков
mnoGoSearch  и  ASPSeek}
Рассматривать внутреннее устройство поисковиков мы будем на двух
примерах распространяемых по лицензии GNU поисковых движков:
mnoGoSearch (http://www.mnogosearch.ru)  и ASPSeek
(http://www.aspseek.org). Обобщенные сведения по этим продуктам
представлены в следующей таблице.
\begin{center}
\begin{longtable}{|c|c|c|} 
\caption{Сравнительная характеристика mnoGoSearch и ASPSeek}\\
\hline
Критерий & mnoGoSearch & ASPSeek \\ \hline
Дата начала проекта &  &  \\
(выпуск первой версии) & 18.11.1998 (v. 1.5) &  10.11.2000
(v. 0.9.2)\\ \hline
Последняя версия & 12.04.2004 (v. 3.2.16) &  22.07.2002 (v. 1.2.10)\\
\hline
Programming language & c & c++ (STL) \\ \hline
DB & MySQL, PostgreSQL, & MySQL, Oracle \\
 & Solid, Virtuoso,  & \\
 & SyBase, MS SQL, iODBC, & \\
 & EasySoft ODBC-ODBC bridge, & \\
& unixODBC, IBM DB2,  &  \\ 
& miniSQL, InterBase, Oracle & \\
\hline
Оптимизированная DB &  нет & default mode \\
\hline
Поддерживаемые протоколы & http, https, ftp, nntp& http, https\\
\hline
Parser & html, txt, внешние & html, txt, внешние\\
& парсеры (ps, doc, pdf, ...) & парсеры (ps, doc, pdf, ...)\\ \hline
OS & Unix, Win & Unix \\ \hline
\end{longtable}
\end{center}

Несколько комментариев по поводу данной таблицы.

Следует обратить внимание на конфигурацию поисковика по умолчанию: в
mnoGoSearch используется реляционная база данных для
хранения информации, а в ASPSeek наряду с реляционной используется
своя оптимизированная база для хранения и обработки больших объемов
данных. При этом следует отметить, что ранее и mnoGoSearch мог быть
сконфигурирован как ASPSeek - так называемый Cache mode storage. При
этом реализация данного режима в mnoGoSearch была намного
более продвинутая чем в ASPSeek. В последней версии mnoGoSearch эту
функциональность удалили. Как написано в комментрии по этому поводу - реализация
содержала много багов и разработчики решили не тратить на нее время и
целиком сосредоточится на поддержке реляционных баз данных.

Прежде всего данные поисковики разрабатывались под Unix (Linux,
FreeBSD) лицензия  GPL. Вместе с тем mnoGoSearch имеет Win версию которая
предлагается за деньги - лицензия MNOGOSEARCH SEARCH ENGINE FOR
WINDOWS LICENSE AGREEMENT. Вместе с тем пользователи из стран бывшего
СССР могут использовать ее для некоммерческих целей бесплатно.

Кроме того хотелось бы остановится на том как эти два продукта
выглядят внутри. Согласитесь, что если код написан хорошо, а продукт
имеет четко выраженную архитектуру то работать с ним приятно. С этой
точки зрения лично мне больше импонирует mnoGoSearch. Этот код
разрабатывается давно, оформлен в соответствии с определенным стилем и
скажем так - ``вылизан''. Кроме того создана некоторая инфраструктура
для дальнейшей разработки, в частности предоставляются тесты для
тестирования работы различных частей системы.

В смысле кода ASPSeek мне кажется менее продуманным. В качестве примера
можно привести класс CWordCache. Этот класс  хранит информацию по
связке слово - цифровой идентификатор слова. Т. е. в некотором смысле
оправдывает свое название. С другой стороны, этот же класс создает и
управляет потоками, которые производят обработку документов, парсит
файл  robots.txt и делает много другой работы которая к кэшу слов
имеет отдаленое отношение. Также мне не нравится необоснованно большое
использование глобальных переменных в c++ коде. Кроме того большие
участки кода были взяты из mnoGoSearch в результате чего получается
форменная мешанина. Как мне кажется все это вместе взятое обуславливает тот
результат, что в данный момент код ASPSeek не поддерживается (см. дату
последнего релиза). И, в некотором смысле, как мне кажется, это
обусловило желание WebGuerrlla найти организацию которая бы
поддерживала этот код и добавляла бы в него новую функциональность. 

