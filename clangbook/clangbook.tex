\documentclass[12pt,a4paper]{book}
\usepackage[toc,page]{appendix}
\usepackage[utf8]{inputenc}
\usepackage{minted}
\usepackage[T1,T2A]{fontenc}
\usepackage[english]{babel}

\usepackage{amsmath}
\usepackage{xparse} %to make Mac OSX compilation happy
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{array}
\usepackage{booktabs}
\usepackage{imakeidx}
\usepackage{scrbase}
\usepackage{physics}
\usepackage{adjustbox}
\usepackage{nomencl}


% http://tex.stackexchange.com/questions/42343/how-to-add-a-navigation-window-to-a-latex-generated-pdf-document
\usepackage{hyperref}
\hypersetup{
  pdftex,
  allcolors=blue,
  bookmarksnumbered=true,     
  bookmarksopen=true,         
  bookmarksopenlevel=1,       
  colorlinks=true,            
  pdfstartview=Fit,           
  pdfpagemode=UseOutlines,  
  pdfpagelayout=TwoPageRight,
  pdftitle={Clang compiler frontend},
  pdfsubject={Clang compiler frontend},
  pdfauthor={Ivan Murashko},
  pdfkeywords={clang, compiler, compiler frontend}
}
\usepackage{hypcap}

%
% https://tex.stackexchange.com/questions/187388/amsthm-with-shared-counters-messes-up-autoref-references
%
\usepackage{aliascnt}
\usepackage{cleveref}


\usepackage{tikz}
\usepackage{tikz-cd}
\usetikzlibrary{calc,trees,positioning,arrows,fit,shapes,matrix}
\usepackage{smartdiagram}
\usepackage{imakeidx}

%\usesmartdiagramlibrary{additions}


\newcommand{\clang}{%
  \mintinline{text}{clang}
  \index{clang}
}%

%
% https://tex.stackexchange.com/questions/357118/expand-nameref-before-creating-index
%

\makeatletter
\newcommand{\getnamereftext}[1]{%
  \@ifundefined{r@#1}{}{%
    \unexpanded\expandafter\expandafter\expandafter{%
      \expandafter\expandafter\expandafter\@thirdoffive\csname r@#1\endcsname
    }%
  }%
}

\newcommand{\myindex}[1]{%
   #1 
  {\expandafter\index{#1}}%
}%

\makeindex[intoc]

\title{Clang compiler frontend}
\author{Ivan Murashko}
%\date{}

\begin{document}
\maketitle
\tableofcontents

\input ./intro.tex
\input ./setup.tex
\input ./baselibs.tex
\input ./arch.tex
\input ./features.tex
\input ./tools.tex

\printindex
\bibliographystyle{abbrv}  
\bibliography{clangbook}
%\input ./license.tex

\end{document}
